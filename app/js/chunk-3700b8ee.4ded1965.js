(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3700b8ee"],{"04c7":function(t,i,n){},"278c":function(t,i,n){"use strict";var o=n("5fd2"),a=n.n(o);a.a},"3b93":function(t,i,n){"use strict";var o=n("8001"),a=n.n(o);a.a},"523d":function(t,i,n){"use strict";var o=n("5a97"),a=n.n(o);a.a},"5a97":function(t,i,n){},"5fd2":function(t,i,n){},"60c5":function(t,i,n){"use strict";var o=n("04c7"),a=n.n(o);a.a},"6ab7":function(t,i,n){"use strict";n.r(i);var o,a,s=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("header",{staticClass:"tabName"},[n("span",{staticClass:"iconfont",on:{click:t.toType}},[t._v("")]),n("ul",[n("li",{on:{click:function(i){return t.tabChange(t.commodity)}}},[n("a",{class:{current:"commodity"===t.currentView}},[t._v("商品")])]),n("li",{on:{click:function(i){return t.tabChange(t.information)}}},[n("a",{class:{current:"information"===t.currentView}},[t._v("详情")])]),n("li",{on:{click:function(i){return t.tabChange(t.comment)}}},[n("a",{class:{current:"comment"===t.currentView}},[t._v("评论")])]),n("li",{on:{click:function(i){return t.tabChange(t.recommend)}}},[n("a",{class:{current:"recommend"===t.currentView}},[t._v("推荐")])])])]),n(t.currentView,{tag:"div",staticClass:"content"})],1)},e=[],c=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",[n("div",{staticClass:"banner"},[t.commodityInfo.c_images?n("swiper",{attrs:{options:t.swiperOption}},[t._l(t.commodityInfo.c_images,function(i,o){return n("swiper-slide",{key:o},[n("img",{staticClass:"images",attrs:{src:t.$SERVER.FILEURL+i,alt:""}})])}),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()],1),n("section",{staticClass:"detail"},[n("article",[t._v(t._s(t.commodityInfo.c_title))])]),n("div",{staticClass:"price"},[t._v("\n        ￥"),n("span",{staticClass:"main-price"},[t._v(t._s(t.commodityInfo.c_price/100))])]),n("div",{staticClass:"add"},[n("span",{staticClass:"sales"},[t._v("总销量  "+t._s(t.commodityInfo.c_sales))]),n("span",{staticClass:"school"},[t._v(t._s(t.commodityInfo.u_school))])]),n("div",{staticClass:"number"},[n("span",[t._v("数量")]),n("van-stepper",{attrs:{max:t.commodityInfo.c_num},model:{value:t.value,callback:function(i){t.value=i},expression:"value"}}),n("span",{staticClass:"ventory"},[t._v("库存: "+t._s(t.commodityInfo.c_num))])],1),n("van-goods-action",[n("van-goods-action-mini-btn",{attrs:{icon:"shop-o",text:"店铺"},on:{click:function(i){return t.toStore(t.commodityInfo.u_id)}}}),n("van-goods-action-mini-btn",{class:{heart:t.isChange},attrs:{icon:"like",text:"收藏"},on:{click:function(i){return t.handleCollect(t.isChange)}}}),n("van-goods-action-mini-btn",{attrs:{info:"5",icon:"cart-o",text:"购物车"},on:{click:t.toCart}}),n("van-goods-action-big-btn",{attrs:{text:"加入购物车"}}),n("van-goods-action-big-btn",{attrs:{primary:"",text:"立即购买"},on:{click:function(i){return t.toBuy(t.$route.params.id)}}})],1)],1)},r=[],u=n("cebc"),m=(n("dfa4"),n("7212")),l=n("2f62"),d={data:function(){return{swiperOption:{autoplay:{delay:4e3,disableOnInteraction:!1,stopOnLastSlide:!0},pagination:{el:".swiper-pagination"}},commodityInfo:"",value:1,isChange:!1}},computed:Object(u["a"])({},Object(l["d"])(["userInfo","o_num"])),components:{swiper:m["swiper"],swiperSlide:m["swiperSlide"]},methods:Object(u["a"])({},Object(l["c"])(["setCommodityNum"]),{getCommodityInfo:function(){var t=this;this.$api(this.$SERVER.GET_COMMODITYINFO,{params:{id:this.$route.params.id}}).then(function(i){t.commodityInfo=i.data,1===t.commodityInfo.c_col?t.isChange=!0:t.isChange=!1})},handleCollect:function(){this.userInfo.u_avatar?!0===this.isChange?(this.isChange=!1,this.$api(this.$SERVER.GET_COLLECTIONDEL,{params:{u_id:this.userInfo._id,c_id:this.$route.params.id}})):(this.isChange=!0,this.$api.post(this.$SERVER.POST_COLLECTIONADD,{u_id:this.userInfo._id,c_id:this.$route.params.id})):this.$router.push("/login")},toStore:function(t){this.$router.push({name:"store",params:{id:t}})},toBuy:function(t){this.userInfo.u_avatar?(this.setCommodityNum(this.value),this.$router.push({name:"buy",params:{id:t}})):this.$router.push("/login")},toCart:function(){this.$router.push("/cart")}}),created:function(){this.getCommodityInfo()}},f=d,p=(n("60c5"),n("2877")),h=Object(p["a"])(f,c,r,!1,null,null,null),_=h.exports,v=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"detail",domProps:{innerHTML:t._s(t.commodityInfo.c_detail)}})},C=[],y={data:function(){return{commodityInfo:""}},methods:{getCommodityInfo:function(){var t=this;this.$api(this.$SERVER.GET_COMMODITYINFO,{params:{id:this.$route.params.id}}).then(function(i){t.commodityInfo=i.data})}},created:function(){this.getCommodityInfo()}},g=y,I=(n("3b93"),Object(p["a"])(g,v,C,!1,null,null,null)),b=I.exports,E={},$=Object(p["a"])(E,o,a,!1,null,null,null),O=$.exports,w=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"bg clearfix"},[n("ul",t._l(t.commodityInfo,function(i){return n("li",{staticClass:"recommend"},[i.c_images?[n("img",{attrs:{src:t.$SERVER.FILEURL+i.c_images[0]}})]:t._e(),n("span",{staticClass:"title"},[t._v(t._s(i.c_title))]),n("div",{staticClass:"price"},[t._v("\n                ￥"),n("span",{staticClass:"num"},[t._v(t._s(i.c_price/100))])])],2)}),0)])},R=[],T={data:function(){return{apiData:{c_type2:"",c_state:1},commodityInfo:""}},methods:{getCommodityInfo:function(){var t=this;this.$api(this.$SERVER.GET_COMMODITYINFO,{params:{id:this.$route.params.id}}).then(function(i){t.apiData.c_type2=i.data.c_type2,t.$api(t.$SERVER.GET_COMMODITYLIST,{params:{c_type2:t.apiData.c_type2}}).then(function(i){t.commodityInfo=i.data.list})})}},created:function(){this.getCommodityInfo()}},k=T,S=(n("278c"),Object(p["a"])(k,w,R,!1,null,"98a0792e",null)),V=S.exports,x={data:function(){return{commodity:"commodity",information:"information",comment:"comment",recommend:"recommend",currentView:"commodity"}},components:{commodity:_,information:b,comment:O,recommend:V},methods:{tabChange:function(t){this.currentView=t},toType:function(){this.$router.go(-1)}},created:function(){}},L=x,D=(n("523d"),Object(p["a"])(L,s,e,!1,null,"aaf6439a",null));i["default"]=D.exports},8001:function(t,i,n){}}]);
//# sourceMappingURL=chunk-3700b8ee.4ded1965.js.map