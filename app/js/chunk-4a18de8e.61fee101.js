(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a18de8e"],{1862:function(a,t,s){},"4c48":function(a,t,s){},"73cf":function(a,t,s){"use strict";s.r(t);var e=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",[s("header",{staticClass:"return"},[s("span",{staticClass:"iconfont return-icon",on:{click:a.toLogin}},[a._v("")]),s("div",{staticClass:"title"},[a._v("注册")])]),s("van-cell-group",[s("van-field",{attrs:{label:"账号",placeholder:"请输入账号"},model:{value:a.apiData.u_account,callback:function(t){a.$set(a.apiData,"u_account",t)},expression:"apiData.u_account"}}),s("van-field",{attrs:{type:"password",label:"密码",placeholder:"请输入密码"},model:{value:a.apiData.u_password,callback:function(t){a.$set(a.apiData,"u_password",t)},expression:"apiData.u_password"}}),s("van-field",{attrs:{type:"password",label:"确认密码",placeholder:"请再次填写密码"},model:{value:a.apiData.u_confirmpwd,callback:function(t){a.$set(a.apiData,"u_confirmpwd",t)},expression:"apiData.u_confirmpwd"}}),s("van-field",{attrs:{label:"用户名",placeholder:"请输入用户名"},model:{value:a.apiData.u_name,callback:function(t){a.$set(a.apiData,"u_name",t)},expression:"apiData.u_name"}}),s("school",{on:{change:a.getSchoolName}})],1),s("notice",{ref:"popMessage"}),s("a",{staticClass:"btn",on:{click:a.handleRegister}},[a._v("注册")])],1)},o=[],i=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"school"},[s("van-field",{attrs:{label:"学校",placeholder:"请输入学校"},on:{input:a.getSchool},model:{value:a.apiData.u_school,callback:function(t){a.$set(a.apiData,"u_school",t)},expression:"apiData.u_school"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:a.isShow,expression:"isShow"}],staticClass:"school-list"},[s("ul",a._l(a.schoolList,function(t){return s("li",{on:{click:function(s){return a.chooseSchool(t.name)}}},[a._v(a._s(t.name))])}),0)])],1)},n=[],c=s("cebc"),l=s("2f62"),u={name:"school",data:function(){return{apiData:{u_school:""},schoolList:[],isShow:!1}},computed:Object(c["a"])({},Object(l["d"])([]),Object(l["b"])([])),methods:Object(c["a"])({},Object(l["c"])([]),{getSchool:function(){var a=this;""!==this.apiData.u_school?this.$api(this.$SERVER.GET_SCHOOILIST,{params:{name:this.apiData.u_school}}).then(function(t){0!==t.data.length&&(a.isShow=!0,a.schoolList=t.data)}):this.schoolList=[]},chooseSchool:function(a){this.apiData.u_school=a,this.$emit("change",this.apiData.u_school),this.isShow=!1}}),created:function(){},mounted:function(){}},r=u,p=(s("d635"),s("2877")),h=Object(p["a"])(r,i,n,!1,null,"bac7506e",null),f=h.exports,d=s("b286"),_={name:"register",data:function(){return{apiData:{u_account:"",u_password:"",u_confirmpwd:"",u_name:"",u_school:""}}},components:{School:f,Notice:d["a"]},methods:{toLogin:function(){this.$router.push("/login")},handleRegister:function(){var a=this;""===this.apiData.u_account||""===this.apiData.u_password||""===this.u_name||""===this.u_school?(console.log(this.$refs),this.$refs.popMessage.PopUpMessage("请将信息填写完整")):/^\w{6,10}$/.test(this.apiData.u_account)?/^[0-9a-zA-Z]{6,}/.test(this.apiData.u_password)?this.apiData.u_password!==this.apiData.u_confirmpwd?this.$refs.popMessage.PopUpMessage("两次输入的密码不一致"):this.$api.post(this.$SERVER.POST_ADDUSER,this.apiData).then(function(t){return a.$router.push("/login")}):this.$refs.popMessage.PopUpMessage("密码至少6位"):this.$refs.popMessage.PopUpMessage("账号只能由字母和数字组成")},getSchoolName:function(a){this.apiData.u_school=a}}},m=_,v=(s("a894"),Object(p["a"])(m,e,o,!1,null,null,null));t["default"]=v.exports},a894:function(a,t,s){"use strict";var e=s("4c48"),o=s.n(e);o.a},b286:function(a,t,s){"use strict";var e=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"notice"},[s("section",{directives:[{name:"show",rawName:"v-show",value:a.isShow,expression:"isShow"}],staticClass:"error"},[s("div",[s("p",[s("span",{staticClass:"error-msg"},[a._v(a._s(a.message))])])])])])},o=[],i=s("cebc"),n=s("2f62"),c={name:"notice",data:function(){return{isShow:!1,message:""}},computed:Object(i["a"])({},Object(n["d"])([]),Object(n["b"])([])),methods:Object(i["a"])({},Object(n["c"])([]),{PopUpMessage:function(a){var t=this;this.message=a,this.isShow=!0,setTimeout(function(){return t.isShow=!1},2e3)}}),created:function(){},mounted:function(){}},l=c,u=(s("e9fc"),s("2877")),r=Object(u["a"])(l,e,o,!1,null,"6f8557b8",null);t["a"]=r.exports},d635:function(a,t,s){"use strict";var e=s("f870"),o=s.n(e);o.a},e9fc:function(a,t,s){"use strict";var e=s("1862"),o=s.n(e);o.a},f870:function(a,t,s){}}]);
//# sourceMappingURL=chunk-4a18de8e.61fee101.js.map